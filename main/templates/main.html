{% extends 'base.html' %}
{% load static %}
{% block content %}
{% include 'navbar.html' %}

<div class="min-h-screen bg-white p-8"> <!-- Background tetap putih -->
  <div class="container mx-auto">
    <!-- Header -->
    <h1 class="text-5xl font-bold text-gray-900 mb-6 text-center">Muffin Mart</h1>

    <!-- Informasi User -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-6">
      <!-- Card NPM -->
      {% include 'card_info.html' with title='NPM' value=npm %}
      
      <!-- Card Name -->
      {% include 'card_info.html' with title='Nama User' value=name %}
      
      <!-- Card Class -->
      {% include 'card_info.html' with title='Kelas' value=kelas %}
    </div>

    <!-- Produk -->
    {% if not product_entries %}
      <div class="text-center">
        <p class="text-gray-900 text-xl mb-4">Belum ada produk yang ditambahkan.</p>
        <img src="{% static 'images/final_keranjang.png' %}" alt="No Products" class="mx-auto h-48 w-auto">
      </div>
    {% else %}
      <!-- Menggunakan card_product untuk setiap produk -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-6">
        {% for product_entry in product_entries %}
          {% include 'card_product.html' with product_entry=product_entry %}
        {% endfor %}
      </div>
    {% endif %}

    <!-- Tombol Add Product -->
    <div class="flex justify-between mt-8">
      <a href="{% url 'main:create_product_entry' %}">
        <button class="bg-transparent text-green-700 font-semibold py-2 px-4 border border-green-500 rounded hover:bg-green-700 hover:text-white">Add Product</button>
      </a>
      <!-- Tombol Logout dihapus -->
    </div>

    <!-- Last Login -->
    <h5 class="text-xl text-gray-900 mt-8">Sesi terakhir login: {{ last_login }}</h5>
  </div>
</div>

{% endblock content %}
